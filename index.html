<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Expo 2025 Countdown</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron&family=Roboto&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: linear-gradient(135deg, #E60012, #004EA2, #009739, #F39800);
    background-size: 400% 400%;
    animation: gradientMove 15s ease infinite;
    font-family: 'Roboto', sans-serif;
    color: #fff;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }

  @keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .container {
    background: rgba(0, 0, 0, 0.5);
    border-radius: 24px;
    padding: 3rem 4rem;
    max-width: 460px;
    width: 100%;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
    text-align: center;
    position: relative;
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.6rem;
    background: linear-gradient(90deg, #E60012, #004EA2, #009739, #F39800);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 10px rgba(255,255,255,0.5);
    margin-bottom: 0.5rem;
  }

  h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.1rem;
    color: #f0f0f0;
    letter-spacing: 0.1em;
    margin-bottom: 1.5rem;
  }

  #dayDisplay {
    font-size: 2.2rem;
    font-weight: bold;
    color: #fff;
    margin-bottom: 1rem;
    text-shadow: 0 0 8px rgba(255,255,255,0.8);
  }

  #hourDisplay, #remainDisplay {
    font-size: 1.1rem;
    font-weight: 500;
    color: #f0f0f0;
    margin-bottom: 0.8rem;
  }

  .footer {
    font-size: 0.85rem;
    color: #ddd;
    letter-spacing: 0.05em;
    margin-top: 1.5rem;
  }

  .lang-toggle {
    position: absolute;
    top: 12px;
    right: 12px;
    background: rgba(255,255,255,0.2);
    border: none;
    border-radius: 20px;
    color: #fff;
    font-weight: 600;
    padding: 6px 14px;
    cursor: pointer;
    font-family: 'Roboto', sans-serif;
    transition: background 0.3s ease;
  }
  .lang-toggle:hover {
    background: rgba(255,255,255,0.4);
  }
</style>
</head>
<body>
  <div class="container" role="main" aria-live="polite">
    <button class="lang-toggle" aria-label="Toggle Language">EN</button>
    <h1 id="title">2025 大阪・関西万博</h1>
    <h2 id="subtitle">開催からの経過日数カウント</h2>
    <p id="dayDisplay">読み込み中…</p>
    <p id="hourDisplay"></p>
    <p id="remainDisplay"></p>
    <div class="footer" id="footer">
      開催期間: 2025/04/13 00:00 JST ～ 2025/10/13 00:00 JST
    </div>
  </div>

<script>
  const startDateJST = new Date(Date.UTC(2025, 3, 12, 15, 0, 0));
  const endDateJST = new Date(Date.UTC(2025, 9, 12, 15, 0, 0));

  const dayDisplay = document.getElementById("dayDisplay");
  const hourDisplay = document.getElementById("hourDisplay");
  const remainDisplay = document.getElementById("remainDisplay");
  const title = document.getElementById("title");
  const subtitle = document.getElementById("subtitle");
  const langToggleBtn = document.querySelector(".lang-toggle");

  let lang = 'jp';

  const texts = {
    jp: {
      title: "2025 大阪・関西万博",
      subtitle: "開催からの経過日数カウント",
      loading: "読み込み中…",
      notStarted: "万博はまだ始まっていません。",
      ended: days => `万博終了から${days}日経過しました。`,
      endedTime: (y,mo,d,h,mi,s) => `終了から経過した時間：${y}年${mo}月${d}日${h}時間${mi}分${s}秒`,
      dayCount: day => `今日は万博の${day}日目です。`,
      timeSinceStart: (y,mo,d,h,mi,s) => `開催開始から経過した時間：${y}年${mo}月${d}日${h}時間${mi}分${s}秒`,
      remainToStart: (y,mo,d,h,mi,s) => `開幕まで：${y}年${mo}月${d}日${h}時間${mi}分${s}秒`,
      remainToEnd: (y,mo,d,h,mi,s) => `閉幕まで：${y}年${mo}月${d}日${h}時間${mi}分${s}秒`,
      toggleLabel: "EN",
      footerText: "開催期間: 2025/04/13 00:00 JST ～ 2025/10/13 00:00 JST"
    },
    en: {
      title: "Expo 2025 Osaka, Kansai, Japan",
      subtitle: "Days Since Opening",
      loading: "Loading...",
      notStarted: "The Expo hasn't started yet.",
      ended: days => `It has been ${days} days since the Expo ended.`,
      endedTime: (y,mo,d,h,mi,s) => `Time since closing: ${y}y ${mo}m ${d}d ${h}h ${mi}m ${s}s`,
      dayCount: day => `Today is day ${day} of the Expo.`,
      timeSinceStart: (y,mo,d,h,mi,s) => `Time since opening: ${y}y ${mo}m ${d}d ${h}h ${mi}m ${s}s`,
      remainToStart: (y,mo,d,h,mi,s) => `Time until opening: ${y}y ${mo}m ${d}d ${h}h ${mi}m ${s}s`,
      remainToEnd: (y,mo,d,h,mi,s) => `Time until closing: ${y}y ${mo}m ${d}d ${h}h ${mi}m ${s}s`,
      toggleLabel: "JP",
      footerText: "Period: Apr 13, 2025 00:00 JST ～ Oct 13, 2025 00:00 JST"
    }
  };

  // 経過時間を年月日時分秒で表現
  function formatYMDHMS(ms) {
    let s = Math.floor(ms / 1000);
    const y = Math.floor(s / (365*24*3600));
    s %= (365*24*3600);
    const mo = Math.floor(s / (30*24*3600));
    s %= (30*24*3600);
    const d = Math.floor(s / (24*3600));
    s %= (24*3600);
    const h = Math.floor(s / 3600);
    s %= 3600;
    const mi = Math.floor(s / 60);
    s %= 60;
    return { y, mo, d, h, mi, s };
  }

  function updateDay() {
    const now = new Date();
    const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
    const jstTime = new Date(utc + (9 * 60 * 60 * 1000));
    const today = new Date(jstTime.getFullYear(), jstTime.getMonth(), jstTime.getDate());

    const t = texts[lang];

    if (jstTime < startDateJST) {
      const diffMs = startDateJST - jstTime;
      const { y,mo,d,h,mi,s } = formatYMDHMS(diffMs);
      dayDisplay.textContent = t.notStarted;
      hourDisplay.textContent = "";
      remainDisplay.textContent = t.remainToStart(y,mo,d,h,mi,s);

    } else if (jstTime > endDateJST) {
      const diffDays = Math.floor((today - endDateJST) / (1000 * 60 * 60 * 24));
      dayDisplay.textContent = t.ended(diffDays);
      const elapsedMs = jstTime - endDateJST;
      const { y,mo,d,h,mi,s } = formatYMDHMS(elapsedMs);
      hourDisplay.textContent = t.endedTime(y,mo,d,h,mi,s);
      remainDisplay.textContent = "";

    } else {
      const diffDays = Math.floor((today - startDateJST) / (1000 * 60 * 60 * 24)) + 1;
      dayDisplay.textContent = t.dayCount(diffDays);

      const elapsedMs = jstTime - startDateJST;
      const { y,mo,d,h,mi,s } = formatYMDHMS(elapsedMs);
      hourDisplay.textContent = t.timeSinceStart(y,mo,d,h,mi,s);

      const remainMs = endDateJST - jstTime;
      const remain = formatYMDHMS(remainMs);
      remainDisplay.textContent = t.remainToEnd(remain.y,remain.mo,remain.d,remain.h,remain.mi,remain.s);
    }
  }

  function updateTexts() {
    const t = texts[lang];
    title.textContent = t.title;
    subtitle.textContent = t.subtitle;
    langToggleBtn.textContent = t.toggleLabel;
    document.getElementById("footer").textContent = t.footerText;
  }

  function toggleLanguage() {
    lang = (lang === 'jp') ? 'en' : 'jp';
    updateTexts();
    updateDay();
  }

  langToggleBtn.addEventListener('click', toggleLanguage);

  updateTexts();
  dayDisplay.textContent = texts[lang].loading;
  updateDay();
  setInterval(updateDay, 1000);
</script>
</body>
</html>
